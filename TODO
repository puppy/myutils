【51CTO独家特稿】Linux双网卡绑定一个IP地址，实质工作就是使用两块网卡虚拟为一块，使用同一个IP地址，是我们能够得到更好的更快的服务。其实这项技术在Sun和Cisco中早已存在，被称为Trunking和Etherchannel技术，在Linux的2.4.x的内核中也采用这这种技术，被称为bonding。本文以Debian为例介绍这个技术的实现。

http://os.51cto.com/art/201102/245483.htm


FAI，debian版的kickstart

http://os.51cto.com/art/201102/245803.htm



打deb包
http://www.debian.org/doc/devel-manuals#maint-guide

aptitude show debhelper



cat bin/paste-img/Makefile 

#!/usr/bin/make -f

clean:
   rm -rf deb

deb:   clean
   -mkdir -p deb/DEBIAN
   cp -u control deb/DEBIAN
   -mkdir -p deb/usr/bin
   -mkdir -p deb/usr/share/applications
   -mkdir -p deb/usr/share/paste-img
   -mkdir -p deb/usr/share/pixmaps
   cp -u *.desktop deb/usr/share/applications
   cp -u *.pl *.glade *.png deb/usr/share/paste-img
   cd deb/usr/share/pixmaps; \
   ln -sf ../share/paste-img/*.png . ;\
   cd ../../../..
   cd deb/usr/bin; \
   ln -sf ../share/paste-img/*.pl . ;\
   cd ../../..
   dpkg-deb -b deb .
#   rm -r deb




google 后知道是 set -o vi，随便输入一条命令，再按 esc 键，然后可以对命令进行 vi 式的移动，替换等操作……


http://linux.chinaunix.net/techdoc/install/2006/05/09/932060.shtml



http://lug.ustc.edu.cn/wiki/server/pxe/start



"\e[A": history-search-backward
"\e[B": history-search-forward


ack-grep：grep的perl版替代品


http://huoding.com/2011/08/09/104
http://jcole.us/blog/archives/2010/09/28/mysql-swap-insanity-and-the-numa-architecture/


\usepackage{hyperref}
\hypersetup{
        pdftitle={吉利项目测试环境部署文档},
        pdfsubject={吉利项目测试环境部署文档},
        pdfkeywords={apache mysql linux redis mongodb},
        pdfauthor={夏侯锋 xiahoufeng@chinatsp.com},
}




[备忘] 把 bzr 仓库转为 git 仓库
$ sudo apt-get install bzr-fastimport git-core
$ bzr clone lp:~lidaobing/iptux/iptux
$ cd iptux/
$ git init
$ bzr fast-export . | git fast-import
$ gitk --all
$ rm -r .bzr
$ git reset HEAD





LVM（逻辑卷管理）能将多个储存设备(包括分区，RAID设备等)合并成为一个新的储存设备。在这设备上可以建立多个分区。他支持动态调整分区大小，动态添加或删除底层设备。

安装

sudo apt-get install lvm2
sudo apt-get install e2fsprogs

创建

LVM 可以在磁盘的分区或者RAID上的分区(如/dev/md0)上创建

# pvcreate /dev/sdb /dev/sdc # 格式化分区为LVM格式
# vgcreate vg0 /dev/sdb /dev/sdc # 创建volume group
# vgdisplay vg0 # 显示volume group 信息
# apt-get install dmraid # 安装raid device map
# lvcreate -L 500G -n vol1 vg0 # 创建逻辑卷
# mke2fs -j /dev/vg0/vol1 # 在逻辑卷上创建 ext3 分区
# mount /dev/vg0/vol1 /mount/path

扩容 (无须停机)

# pvcreate /dev/sdd
# vgextend vg0 /dev/sdd
# lvextend -l +100%FREE /dev/vg0/vol1
# resize2fs -p /dev/vg0/vol1

磁盘损坏

还有额外的地方可以连接新的硬盘 (无须停机)

比如 /dev/sdb 损坏，接入的新硬盘叫 /dev/sde

# pvcreate /dev/sde # 格式化新硬盘
# vgextend vg0 /dev/sde # 添加新硬盘到卷组
# pvmove /dev/sda /dev/sde # 移动数据
# vgreduce vg0 /dev/sda # 卸载硬盘
没有额外的地方可以连接新硬盘

需要先缩小分区至可容纳在剩余的硬盘上

# pvmove /dev/sda # 移动数据至同组的其他硬盘
# vgreduce vg0 /dev/sda # 卸载硬盘
# 更换硬盘
# pvcreate /dev/sda
# vgextend vg0 /dev/sda



mysql命令行

pager less：设定less模式



安装好xbindkeys后，使用下面命令生成默认的配置文件，

$ xbindkeys --default > ~/.xbindkeysrc
   

$ xbindkeys -k # 单键
$ xbindkeys -mk # 组合键

运行上面的命令后按下想要设定的按键，将生成的字符序列拷贝到~/.xbindkeysrc中即可。


X的剪贴板

echo "Hello, world" | xclip  

gnome等的剪贴板
echo "Hello, world" | xclip -selection clipboard
# 接上面的扩容步骤